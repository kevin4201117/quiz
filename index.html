<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>å‹æƒ…å¤§è€ƒé©—ï½œæ–°ç«¹å¸¥å“¥åœ˜ç‰¹ä»•ç‰ˆ</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#111a33;
      --muted:#9fb0ff;
      --text:#e9ecff;
      --accent:#7aa2ff;
      --ok:#3ddc97;
      --bad:#ff5c7a;
      --border:rgba(255,255,255,.12);
    }
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Noto Sans TC", "Segoe UI", Arial;
      background: radial-gradient(1200px 600px at 20% 10%, rgba(122,162,255,.25), transparent 60%),
                  radial-gradient(900px 500px at 80% 30%, rgba(61,220,151,.18), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{ max-width: 860px; margin: 0 auto; padding: 20px; }
    header{
      display:flex; gap:14px; align-items:center; justify-content:space-between;
      padding: 14px 16px; border:1px solid var(--border); border-radius:16px;
      background: rgba(17,26,51,.7); backdrop-filter: blur(10px);
    }
    .title{ display:flex; flex-direction:column; gap:6px; }
    h1{ margin:0; font-size: 20px; letter-spacing:.5px; }
    .sub{ color: var(--muted); font-size: 13px; }
    .pill{
      border:1px solid var(--border); border-radius:999px;
      padding: 8px 12px; color: var(--muted); font-size: 13px;
      background: rgba(0,0,0,.15);
    }
    .card{
      margin-top:16px;
      border:1px solid var(--border); border-radius:16px;
      background: rgba(17,26,51,.65);
      backdrop-filter: blur(10px);
      overflow:hidden;
    }
    .card-hd{
      display:flex; justify-content:space-between; align-items:center;
      padding: 14px 16px; border-bottom:1px solid var(--border);
    }
    .qno{ color: var(--muted); font-size: 13px; }
    .qtext{ font-size: 18px; margin: 4px 0 0 0; line-height: 1.35; }
    .card-bd{ padding: 14px 16px; }
    .choices{ display:grid; gap:10px; margin-top: 10px; }
    .choice{
      border:1px solid var(--border);
      border-radius:14px;
      padding: 12px 12px;
      cursor:pointer;
      transition: transform .05s ease, border-color .15s ease, background .15s ease;
      display:flex; gap:10px; align-items:flex-start;
      background: rgba(0,0,0,.12);
    }
    .choice:hover{ border-color: rgba(122,162,255,.6); }
    .choice:active{ transform: scale(.995); }
    .badge{
      width:28px; height:28px; border-radius:10px;
      border:1px solid var(--border);
      display:grid; place-items:center;
      color: var(--muted);
      background: rgba(255,255,255,.04);
      flex: 0 0 auto;
      font-weight:700;
    }
    .choice.ok{ border-color: rgba(61,220,151,.7); background: rgba(61,220,151,.08); }
    .choice.bad{ border-color: rgba(255,92,122,.7); background: rgba(255,92,122,.08); }
    .choice.disabled{ cursor: not-allowed; opacity:.95; }
    .choice .label{ font-size: 15px; line-height:1.35; }
    .hint{
      margin-top: 12px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
    }
    .actions{
      display:flex; gap:10px; flex-wrap:wrap;
      padding: 14px 16px; border-top:1px solid var(--border);
    }
    button{
      border:1px solid var(--border);
      background: rgba(0,0,0,.18);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      font-weight: 650;
    }
    button:hover{ border-color: rgba(122,162,255,.6); }
    button.primary{ background: rgba(122,162,255,.16); border-color: rgba(122,162,255,.55); }
    button.danger{ background: rgba(255,92,122,.14); border-color: rgba(255,92,122,.55); }
    button:disabled{ opacity:.5; cursor:not-allowed; }

    .result{
      padding: 16px;
      display:none;
    }
    .result.show{ display:block; }
    .score{
      font-size: 28px; font-weight: 900; letter-spacing: .5px;
      margin: 0 0 10px 0;
    }
    .level{
      display:inline-block;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid var(--border);
      color: var(--muted);
      background: rgba(255,255,255,.04);
      margin-bottom: 14px;
    }
    .punish{
      margin-top: 10px;
      padding: 12px;
      border-radius: 14px;
      border:1px dashed rgba(122,162,255,.55);
      background: rgba(122,162,255,.08);
      color: var(--text);
      line-height: 1.5;
    }
    .small{ color: var(--muted); font-size: 12px; margin-top: 10px; }
    .footer{
      margin-top: 14px;
      color: var(--muted);
      font-size: 12px;
      opacity: .9;
    }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>ğŸ¤ å‹æƒ…å¤§è€ƒé©—ï½œæ–°ç«¹å¸¥å“¥åœ˜ç‰¹ä»•ç‰ˆ</h1>
        <div class="sub">å–®é å°ç¨‹å¼ï¼šç­”é¡Œ â†’ ç®—åˆ† â†’ åˆ¤å®šå‹æƒ…ç­‰ç´š â†’ æŠ½æ‡²ç½°</div>
      </div>
      <div class="pill"><span id="progress">ç¬¬ 1 / 9 é¡Œ</span> Â· <span class="mono" id="scoreNow">0</span> åˆ†</div>
    </header>

    <section class="card" id="quizCard">
      <div class="card-hd">
        <div>
          <div class="qno" id="qTag">ç¬¬ä¸€é—œï½œè¨˜æ†¶åŠ›æ¸¬é©—</div>
          <div class="qtext" id="qText">é¡Œç›®</div>
        </div>
        <div class="pill" id="qType">å–®é¸</div>
      </div>
      <div class="card-bd">
        <div class="choices" id="choices"></div>
        <div class="hint" id="hint"></div>
      </div>
      <div class="actions">
        <button id="btnPrev">â¬…ï¸ ä¸Šä¸€é¡Œ</button>
        <button class="primary" id="btnNext" disabled>ä¸‹ä¸€é¡Œ â¡ï¸</button>
        <button class="danger" id="btnRestart">é‡ä¾†</button>
      </div>
    </section>

    <section class="card result" id="resultCard">
      <div class="card-hd">
        <div>
          <div class="qno">çµæœ</div>
          <div class="qtext">ä½ å€‘åˆ°åº•ç†Ÿä¸ç†Ÿï¼ˆä¸ç†Ÿå°±è«‹é£²æ–™ï¼‰</div>
        </div>
      </div>
      <div class="result" id="resultInner">
        <p class="score" id="finalScore">0 / 9</p>
        <div class="level" id="finalLevel">å‹æƒ…ç­‰ç´š</div>
        <div class="punish" id="punishBox">æ‡²ç½°</div>
        <div class="small" id="review"></div>
        <div class="footer">æç¤ºï¼šè¦æ”¹æˆä½ å€‘ã€Œè‡ªè¨‚é¡Œåº«ã€æˆ‘ä¹Ÿå¯ä»¥å¹«ä½ åšï¼ˆç›´æ¥è²¼é¡Œç›®é¸é …ç­”æ¡ˆçµ¦æˆ‘å°±è¡Œï¼‰ã€‚</div>
      </div>
      <div class="actions">
        <button class="primary" id="btnAgain">å†ç©ä¸€æ¬¡</button>
      </div>
    </section>
  </div>

  <script>
    // ====== é¡Œåº«ï¼ˆä½ è¦æ”¹é¡Œç›®/ç­”æ¡ˆï¼šæ”¹é€™è£¡å°±å¥½ï¼‰======
    // correct: æ­£ç¢ºé¸é …ç´¢å¼•ï¼ˆ0-basedï¼‰
    const QUESTIONS = [
      {
        group: "ç¬¬ä¸€é—œï½œè¨˜æ†¶åŠ›æ¸¬é©—",
        type: "å–®é¸",
        text: "é€™å€‹ç¾¤çµ„ä¸€é–‹å§‹æ˜¯èª°èªªã€Œæœ‰äººèªªè¦é–‹ç¾¤çµ„ã€ï¼Ÿ",
        choices: ["é˜¿è±ª", "é»ƒå¥•æ–‡", "ææ™‰é€µ", "æ—å­æš˜"],
        correct: 1,
        explain: "ç¾¤çµ„é–‹é ­ç”±é»ƒå¥•æ–‡æåˆ°ã€Œæœ‰äººèªªè¦é–‹ç¾¤çµ„ã€ã€‚"
      },
      {
        group: "ç¬¬ä¸€é—œï½œè¨˜æ†¶åŠ›æ¸¬é©—",
        type: "å–®é¸",
        text: "ç¬¬ä¸€å€‹è¢« tag å‡ºä¾†å«ã€Œå‡ºä¾†è¿æ¥è€å­ã€çš„æ˜¯èª°ï¼Ÿ",
        choices: ["ææ™‰é€µ", "æ—å­æš˜", "é˜¿è±ª", "æ›¾å»ºå‹›"],
        correct: 2,
        explain: "é»ƒå¥•æ–‡ä¸€é–‹å§‹å°± @é˜¿è±ª è¦ä»–å‡ºä¾†è¿æ¥ã€‚"
      },
      {
        group: "ç¬¬ä¸€é—œï½œè¨˜æ†¶åŠ›æ¸¬é©—",
        type: "å–®é¸",
        text: "ç¾¤çµ„æœ€å¸¸å‡ºç¾çš„å–®å­—æ˜¯ä»€éº¼ï¼Ÿ",
        choices: ["å¥½å•Š", "ã„šËŠ", "å‹¾å…«", "ç¬‘æ­»"],
        correct: 1,
        explain: "ã„šËŠ åŸºæœ¬ä¸Šæ˜¯ä½ å€‘ç¾¤çµ„çš„å‘¼å¸è²ã€‚"
      },
      {
        group: "ç¬¬äºŒé—œï½œè¡Œç‚ºç†è§£",
        type: "å–®é¸",
        text: "æœ‰äººèªªã€Œé †è·¯è¼‰æˆ‘ã€ï¼Œå¯¦éš›ä¸Šé€šå¸¸æ˜¯ï¼š",
        choices: ["çœŸçš„é †", "å°ç¹ä¸€ä¸‹", "ç¹çˆ†", "å¿ƒç†é †ï¼Œåœ°ç†ä¸é †"],
        correct: 3,
        explain: "é †ä¸é †çœ‹å˜´å·´ï¼Œä¸çœ‹åœ°åœ–ã€‚"
      },
      {
        group: "ç¬¬äºŒé—œï½œè¡Œç‚ºç†è§£",
        type: "å–®é¸",
        text: "ã€Œè«‹å¯ä¸å¯ã€é€šå¸¸ä»£è¡¨ä»€éº¼ï¼Ÿ",
        choices: ["çœŸå¿ƒè«‹å®¢", "å®¢å¥—ä¸€ä¸‹", "ç­‰ç­‰å†èªª", "æƒ…ç·’å‹’ç´¢"],
        correct: 3,
        explain: "é€™å¥é€šå¸¸ = ä½ æœ€å¥½è«‹ï¼Œä¸ç„¶æˆ‘æœƒä¸€ç›´è¬›ã€‚"
      },
      {
        group: "ç¬¬äºŒé—œï½œè¡Œç‚ºç†è§£",
        type: "å–®é¸",
        text: "èª°æœ€å¸¸èªªã€Œæ²’éŒ¢ã€ï¼Œä½†çœ‹åˆ°è»Šæˆ–æ¼”å”±æœƒå°±æœƒè¡ï¼Ÿ",
        choices: ["é˜¿è±ª", "ææ™‰é€µ", "é»ƒå¥•æ–‡", "æ›¾å»ºå‹›"],
        correct: 1,
        explain: "æ²’éŒ¢åªæ˜¯ç‹€æ…‹ï¼Œæœ‰è¡æ‰æ˜¯æœ¬è³ªã€‚"
      },
      {
        group: "ç¬¬ä¸‰é—œï½œéˆé­‚æ‹·å•",
        type: "å–®é¸",
        text: "å¦‚æœä»Šå¤©è‡¨æ™‚ç´„ï¼Œæœ€å¸¸å‡ºç¾çš„å›è¦†æ˜¯ï¼š",
        choices: ["å¯ä»¥å•Š", "æˆ‘éƒ½å¯", "å¥½å•Šå¥½å•Š", "ã„šËŠ"],
        correct: 2,
        explain: "å¥½å•Šå¥½å•Š çš„è¦†è“‹ç‡å¾ˆé«˜ï¼Œè€Œä¸”å¸¸å¸¸ä¸æ˜¯å¾ˆç¢ºå®šåœ¨ç­”æ‡‰ä»€éº¼ã€‚"
      },
      {
        group: "ç¬¬ä¸‰é—œï½œéˆé­‚æ‹·å•",
        type: "å–®é¸",
        text: "ç¾¤çµ„å¦‚æœåµæ¶ï¼Œæœ€å¯èƒ½ç™¼ç”Ÿçš„é †åºæ˜¯ï¼Ÿ",
        choices: ["å†·æˆ° â†’ è§£é‡‹ â†’ å’Œå¥½", "äº’å—† â†’ è²¼åœ– â†’ ç•¶æ²’äº‹", "å·²è®€ä¸å› â†’ ç§è¨Š â†’ å†æ‹‰å›ç¾¤", "ä¸æœƒåµï¼Œç›´æ¥ç´„åƒé£¯"],
        correct: 1,
        explain: "ä½ å€‘æœ€å¼·çš„å±æ©Ÿè™•ç†å°±æ˜¯ï¼šè²¼åœ–ã€‚"
      },
      {
        group: "ç¬¬ä¸‰é—œï½œéˆé­‚æ‹·å•",
        type: "å–®é¸",
        text: "èª°æœ€æœ‰å¯èƒ½èªªã€Œå¥½å•Šå¥½å•Šã€ï¼Œä½†å…¶å¯¦æ ¹æœ¬æ²’è½æ¸…æ¥šï¼Ÿ",
        choices: ["é»ƒå¥•æ–‡", "ææ™‰é€µ", "æ—å­æš˜", "æ›¾å»ºå‹›"],
        correct: 1,
        explain: "å¥½å¥½å¥½ çš„é€£ç™¼åŸºæœ¬ä¸Šå°±æ˜¯è‡ªå‹•å›è¦†ã€‚"
      },
    ];

    const PUNISHMENTS = [
      "è¼¸çš„äººè«‹é£²æ–™ï¼ˆå¯ä¸å¯/äº”ååµ/éš¨ä¾¿ä½ ï¼‰",
      "è¼¸çš„äººç•¶å¤©è¼‰äººï¼ˆé †è·¯ç‰ˆæœ¬ï¼šå¿ƒç†é †ã€åœ°ç†ä¸é †ä¹Ÿè¦é †ï¼‰",
      "è¼¸çš„äººæŠŠç¾¤çµ„åç¨±æ”¹æˆã€Œæˆ‘éŒ¯äº†æˆ‘å¾ˆçˆ›ã€24 å°æ™‚",
      "è¼¸çš„äººè¢«æŒ‡å®š morning callï¼ˆä¸èƒ½å·²è®€ä¸å›ï¼‰",
      "è¼¸çš„äººç™¼ä¸€æ®µèª æ‡‡é“æ­‰èªéŸ³ 15 ç§’ï¼ˆä¸èƒ½ç¬‘ï¼‰",
      "è¼¸çš„äººä¸‹ä¸€æ¬¡èšæœƒè² è²¬è¨‚ä½/æ’æ™‚é–“ï¼ˆéŒ¯ä¸€æ¬¡åŠ è«‹ä¸€æ¯ï¼‰"
    ];

    // ====== ç‹€æ…‹ ======
    let idx = 0;
    let score = 0;
    const picked = Array(QUESTIONS.length).fill(null); // è¨˜éŒ„é¸åˆ°çš„é¸é …
    const graded = Array(QUESTIONS.length).fill(false); // æ˜¯å¦å·²è¨ˆåˆ†ï¼ˆé¿å…ä¾†å›åˆ·åˆ†ï¼‰

    // ====== DOM ======
    const qTag = document.getElementById("qTag");
    const qType = document.getElementById("qType");
    const qText = document.getElementById("qText");
    const choicesEl = document.getElementById("choices");
    const hintEl = document.getElementById("hint");
    const progressEl = document.getElementById("progress");
    const scoreNowEl = document.getElementById("scoreNow");

    const btnPrev = document.getElementById("btnPrev");
    const btnNext = document.getElementById("btnNext");
    const btnRestart = document.getElementById("btnRestart");

    const quizCard = document.getElementById("quizCard");
    const resultCard = document.getElementById("resultCard");

    const finalScoreEl = document.getElementById("finalScore");
    const finalLevelEl = document.getElementById("finalLevel");
    const punishBoxEl = document.getElementById("punishBox");
    const reviewEl = document.getElementById("review");
    const btnAgain = document.getElementById("btnAgain");

    function updateHeader(){
      progressEl.textContent = `ç¬¬ ${idx+1} / ${QUESTIONS.length} é¡Œ`;
      scoreNowEl.textContent = score;
    }

    function render(){
      updateHeader();
      const q = QUESTIONS[idx];
      qTag.textContent = q.group;
      qType.textContent = q.type;
      qText.textContent = q.text;

      choicesEl.innerHTML = "";
      hintEl.textContent = "é¸ä¸€å€‹ç­”æ¡ˆï¼ˆé¸å®Œæœƒé¡¯ç¤ºå°éŒ¯èˆ‡è§£é‡‹ï¼‰ã€‚";

      const letters = ["A","B","C","D","E","F"];

      q.choices.forEach((c, i) => {
        const div = document.createElement("div");
        div.className = "choice";
        div.setAttribute("role","button");
        div.tabIndex = 0;

        const badge = document.createElement("div");
        badge.className = "badge";
        badge.textContent = letters[i] || (i+1);

        const label = document.createElement("div");
        label.className = "label";
        label.textContent = c;

        div.appendChild(badge);
        div.appendChild(label);

        div.addEventListener("click", () => pick(i));
        div.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " ") pick(i);
        });

        choicesEl.appendChild(div);
      });

      // å¦‚æœä¹‹å‰æœ‰é¸éï¼Œé¡¯ç¤ºè©•åˆ†ç‹€æ…‹
      if(picked[idx] !== null){
        showGrading();
        btnNext.disabled = false;
      }else{
        btnNext.disabled = true;
      }

      btnPrev.disabled = idx === 0;
      btnNext.textContent = (idx === QUESTIONS.length - 1) ? "çœ‹çµæœ âœ…" : "ä¸‹ä¸€é¡Œ â¡ï¸";
    }

    function pick(i){
      if(picked[idx] !== null) return; // å·²é¸éå°±ä¸è®“æ”¹ï¼ˆä½ è¦å…è¨±æ”¹ä¹Ÿå¯ä»¥ï¼‰
      picked[idx] = i;

      // è¨ˆåˆ†ï¼ˆåªè¨ˆä¸€æ¬¡ï¼‰
      if(!graded[idx]){
        if(i === QUESTIONS[idx].correct) score += 1;
        graded[idx] = true;
      }

      showGrading();
      btnNext.disabled = false;
      updateHeader();
    }

    function showGrading(){
      const q = QUESTIONS[idx];
      const selected = picked[idx];

      const nodes = [...choicesEl.children];
      nodes.forEach((node, i) => {
        node.classList.add("disabled");
        if(i === q.correct) node.classList.add("ok");
        if(i === selected && selected !== q.correct) node.classList.add("bad");
      });

      if(selected === q.correct){
        hintEl.innerHTML = `âœ… ç­”å°äº†ï¼<br><span class="mono">${escapeHtml(q.explain)}</span>`;
      }else{
        hintEl.innerHTML = `âŒ ç­”éŒ¯äº†ï¼æ­£è§£æ˜¯ <b>${q.choices[q.correct]}</b><br><span class="mono">${escapeHtml(q.explain)}</span>`;
      }
    }

    function next(){
      if(idx === QUESTIONS.length - 1){
        showResult();
      }else{
        idx += 1;
        render();
      }
    }
    function prev(){
      if(idx > 0){
        idx -= 1;
        render();
      }
    }
    function restart(){
      idx = 0;
      score = 0;
      for(let i=0;i<picked.length;i++){ picked[i] = null; graded[i] = false; }
      resultCard.classList.remove("show");
      quizCard.style.display = "block";
      render();
    }

    function levelOf(s, total){
      // 0â€“3 / 4â€“6 / 7â€“8 / 9â€“10 (ä¾ä½ åŸè¦å‰‡)ï¼›é€™è£¡ total=9ï¼Œæ‰€ä»¥åšæ¯”ä¾‹æ˜ å°„
      const ratio = s / total;
      if(ratio <= 0.34) return "ğŸš¶ è·¯é‚Šèªè­˜çš„ï¼ˆ0â€“3 åˆ†å€ï¼‰";
      if(ratio <= 0.67) return "ğŸ™‚ æ™®é€šæœ‹å‹ï¼ˆ4â€“6 åˆ†å€ï¼‰";
      if(ratio <= 0.89) return "ğŸ”¥ çœŸçš„æœ‰åœ¨ç†Ÿï¼ˆ7â€“8 åˆ†å€ï¼‰";
      return "ğŸ  å¹¹ä½ é€™æ˜¯å®¶äººå§ï¼ˆ9â€“10 åˆ†å€ï¼‰";
    }

    function showResult(){
      quizCard.style.display = "none";
      resultCard.classList.add("show");

      finalScoreEl.textContent = `${score} / ${QUESTIONS.length}`;
      finalLevelEl.textContent = levelOf(score, QUESTIONS.length);

      // æŠ½ä¸€å€‹æ‡²ç½°ï¼ˆä¹Ÿå¯æ”¹æˆä¾åˆ†æ•¸æ±ºå®šï¼‰
      const punish = PUNISHMENTS[Math.floor(Math.random() * PUNISHMENTS.length)];
      punishBoxEl.innerHTML = `ğŸ² éš¨æ©Ÿæ‡²ç½°ï¼š<b>${escapeHtml(punish)}</b>`;

      // ç°¡çŸ­å›é¡§
      const wrongs = [];
      for(let i=0;i<QUESTIONS.length;i++){
        if(picked[i] !== QUESTIONS[i].correct){
          wrongs.push(`ç¬¬${i+1}é¡Œï¼šä½ é¸ã€Œ${QUESTIONS[i].choices[picked[i]]}ã€â†’ æ­£è§£ã€Œ${QUESTIONS[i].choices[QUESTIONS[i].correct]}ã€`);
        }
      }
      reviewEl.innerHTML = wrongs.length
        ? `ä½ éŒ¯çš„é¡Œç›®ï¼š<br>${wrongs.map(x=>`â€¢ ${escapeHtml(x)}`).join("<br>")}`
        : "å…¨å°ï¼Ÿä½ å€‘çœŸçš„å¤ªç†Ÿäº†ï¼ˆæˆ–ä½ å·çœ‹ç´€éŒ„ï¼‰ã€‚";
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    btnNext.addEventListener("click", next);
    btnPrev.addEventListener("click", prev);
    btnRestart.addEventListener("click", restart);
    btnAgain.addEventListener("click", restart);

    render();
  </script>
</body>
</html>
